* Matplotlib 소개: 그래프 그리기


Matplotlib는 Python에서 그래프를 그릴 때 사용하는 대표적인 라이브러리입니다. Pandas와 기본적으로 통합되어 있는 라이브러리이기도 합니다. Pandas에서 ~Series~ 나 ~DataFrame~ 의 메소드로 제공되는 ~plot()~ 함수는 기본적으로 matplotlib을 사용해서 그래프를 그립니다. 때문에 많은 기능들이 상호 호환됩니다.

여기서는 순수한 matplotlib을 사용해서 그래프를 그리는 방법을 살펴봅니다.


** 기초적인 그래프 그리기

아래와 같이 가장 기본적인 그래프를 그릴 수 있습니다.

#+BEGIN_SRC ipython :session :results raw :exports both :ipyfile outputs/matplotlib-first-plot.png
  %matplotlib inline
  import matplotlib.pyplot as plt

  plt.plot([1, 3, 2, 5, 4])
  plt.show();
#+END_SRC

#+RESULTS:
[[file:outputs/matplotlib-first-plot.png]]

NumPy의 ndarray로 그려도 동일합니다.

#+BEGIN_SRC ipython :session :results raw :exports both :ipyfile outputs/matplotlib-first-plot-2.png
  %matplotlib inline
  import numpy as np
  import matplotlib.pyplot as plt

  plt.plot(np.arange(10))
  plt.show();
#+END_SRC

#+RESULTS:
[[file:outputs/matplotlib-first-plot-2.png]]

Pandas의 Series로 그려도 동일합니다.

#+BEGIN_SRC ipython :session :results raw :exports both :ipyfile outputs/matplotlib-first-plot-3.png
  %matplotlib inline
  import pandas as pd
  import matplotlib.pyplot as plt

  plt.plot(pd.Series([1, 3, 2, 5, 4]))
  plt.show();
#+END_SRC

#+RESULTS:
[[file:outputs/matplotlib-first-plot-3.png]]


** 여러 계열을 동시에 그리기

#+BEGIN_SRC ipython :session :results raw :exports both :ipyfile outputs/matplotlib-multiseries-plot-1.png
  %matplotlib inline
  import pandas as pd
  import matplotlib.pyplot as plt

  plt.plot(pd.Series([1, 3, 2, 5, 4]))
  plt.plot(pd.Series([2, 1, 3, 1, 1]))
  plt.show();
#+END_SRC

#+RESULTS:
[[file:outputs/matplotlib-multiseries-plot-1.png]]


** 범례 표시하기

범례를 표시하기 위해서는 아래와 같이 각 계열에 이름을 부여하고, ~plt.legend()~ 를 호출한 뒤 그래프를 그립니다.

#+BEGIN_SRC ipython :session :results raw :exports both :ipyfile outputs/matplotlib-legend-plot-1.png
  %matplotlib inline
  import pandas as pd
  import matplotlib.pyplot as plt

  plt.plot(pd.Series([1, 3, 2, 5, 4]), label='서울')
  plt.plot(pd.Series([2, 1, 3, 1, 1]), label='부산')
  plt.legend()
  plt.show();
#+END_SRC

#+RESULTS:
[[file:outputs/matplotlib-legend-plot-1.png]]


그런데 그려진 그래프에 한글이 제대로 표시되지 않는 것을 볼 수 있습니다. 이것은 적절한 한글 글꼴이 지정되지 않았기 때문입니다. 아래와 같이 폰트를 지정해줍니다. 폰트는 시스템 환경마다 다를 수 있습니다. Windows의 경우에는 'Malgun Gothic', MacOS의 경우에는 'AppleGothic'으로 지정해보세요.

#+BEGIN_SRC ipython :session :results raw :exports both :ipyfile outputs/matplotlib-legend-plot-2.png
  %matplotlib inline
  import pandas as pd
  import matplotlib
  import matplotlib.pyplot as plt
  matplotlib.rc('font', family='Noto Sans CJK KR')

  plt.plot(pd.Series([1, 3, 2, 5, 4]), label='서울')
  plt.plot(pd.Series([2, 1, 3, 1, 1]), label='부산')
  plt.legend()
  plt.show();
#+END_SRC

#+RESULTS:
[[file:outputs/matplotlib-legend-plot-2.png]]


** Grid 그리기


** 스타일 꾸미기


** figure와 axes 소개

